
  ### Introduction
  - In this page, we're going to explore the whole process of setting up a custom Unigraph integration. We use our Reddit feed integration as an example for what's possible in a completely third-party app on Unigraph, and guide you through the process of making one for your favourite service.
  - If you want a deep-dive into how Unigraph packages work, see [[Anatomy of Unigraph Package]]
  ### Setting up the Unigraph environment
  - First, create an empty directory and copy the files from [the default sample Reddit package](https://github.com/unigraph-dev/unigraph-package-samples/tree/main/custom-integration).
    - If you don't have the `unigraph-package-samples` package on your machine, you can download the zip file [on the main page](https://github.com/unigraph-dev/unigraph-package-samples).
  - This directory now has all the project files needed for it to be used with Unigraph, and we'll start from here.
    - Since package metadata is extracted in `package.json`, feel free to edit it to your desire!
    - The package name is defined in the `name` field of `package.json`, and it's used to identify unique packages. In order to not overwrite the existing Reddit package in your Unigraph, you should change it to a name that works for you.
  - At the same directory, run `npx unigraph-packager`. This utility will make this app into a `.pkg.js` file that Unigraph can import. If everything is right, you'll see this:
    - `Successfully generated Unigraph package at <Package path>`.
  - Now, (if you changed the package name), you can import the package in Unigraph!
    - Navigate to the **Unigraph** section of the left sidebar in Unigraph, then click on **Packages**.
      - ![image.png](data:image/png;base64,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)
    - Then, click the **Add package (overwrite)** button at the top, and select the package in the path given by `unigraph-packager`.
    - Wait a few seconds, and you can see the total number of packages increasing, and that your package has been loaded into Unigraph.
  ### Your settings page
  - Your settings page is where users will log into their accounts, and configure various options for your integration.
  - The settings page consists of 2 parts: the settings page object itself (at the bottom of `package.json`, with id `settings_page_reddit_`) and the custom view of the settings page (near the top of `package.json`, with id `settings-view-reddit_`).
    - The settings page [itself](https://github.com/unigraph-dev/unigraph-package-samples/blob/main/custom-integration/entities/settingsPageReddit.json) is simply a Unigraph object in the database, with properties defined to let Unigraph know how to show it in the settings menu.
    - The custom [view](https://github.com/unigraph-dev/unigraph-package-samples/blob/main/custom-integration/executables/settingsViewReddit.jsx) is a React functional component that is dynamically rendered when the settings page for your package is opened.
      - Don't worry - you wouldn't need to learn React to continue! We've encapsulated most complications away, and you should be able to get a hang of it really quick.
  - To change the settings page, you can first change the settings page object located in the `entities` folder - the process should be self-explanatory.
  - Now, we can go to the `executables` folder, open `settingsViewReddit.jsx` and see how the settings page work.
    - The long `React.useEffect(() => {` block: it subscribes, through a DQL query, the account(s) currently signed-in to Reddit. You generally don't need to edit this part - it will be explained in more detail in the OAuth section next.
    - Now we can see how the settings page is rendered - near the bottom of the file, the `return` statement provides the render result of the page.
      - The "Sign in with Reddit" button is displayed - and will run the executable `$/executable/add-reddit-account` after being clicked. This function will do the OAuth flow with Reddit and connects your Reddit account to Unigraph.
      - After that, we're consuming the data from the subscription above to get the account info, including the username and currently subscribed feed (in the case of this Reddit integration, it's just the home feed for now).
  ### OAuth with third-party API, and storing tokens in Unigraph
  - In the previous session, when the user clicks on the "Sign in with Reddit" button, the executable `$/executable/add-reddit-account` is run to let you sign in to Reddit via OAuth, and then saves the user account details (including access tokens) in the database. 
  - The executable is located at `executables/addRedditAccount.js`, and most of them should be self-explanatory, with a few extra pointers to note:
    - The function call `const appClientId = unigraph.getSecret('reddit', 'client_id');` is currently not available in custom packages. Instead, you can hard-code your `client_id` and (optionally) `client_secret` for now.
    - The function `const oauthResponse = await unigraph.awaitHttpCallback('reddit');` is a Unigraph API function that's only available on the backend. It waits for an HTTP GET request at `http://<server location>:4001/callback?key=reddit`, then returns the response of type [Request](https://expressjs.com/en/api.html#req) in Express.
    - We currently only have a few npm packages available for backend, and the full list that's included in Unigraph builds can be found [here](https://github.com/unigraph-dev/unigraph-dev/blob/main/packages/unigraph-dev-backend/package.json). In the future, you'll be able to add custom packages as dependencies.
  - After the OAuth flow is completed, we'll likely have a username, display name, access token (either a bearer token or a key/secret pair), and refresh token. We have a convenient datatype for storing these information in the database, called `$/schema/internet_account`.
    - Line 37-56 in the executable shows a way to add these information into Unigraph - alternatively, if the access token is a key/secret pair, you can also specify the field `access_token_secret` for that. 
    - The field `subscriptions` provides a way to store sync states easily with Unigraph. For example, you can rename & change the definition of type to `$/schema/reddit_feed` and use that to store different sync tokens.
  ### Setup recurring script to sync data
  - Now that you have set up a sign-in flow, you can set up a recurring script to sync your data every once in a while.
  - In `package.json`, the second executable with id `update-reddit-subscription` is such an executable.
    - The `"periodic": "*/3 * * * *"` field specifies how frequently it should be run in Cron syntax - here, it says to run every 3 minutes.
    - The `"concurrency": 1` makes sure that if another call to the executable happens while it's already running (for example, if the initial sync takes more than 1 minute), the second one will not be executed.
  - This executable is located at `executables/updateRedditSubscriptions.js`. 
    - Line 1-37 gets the currently logged-in user from the database, using DQL syntax (temporary). You should change `"Reddit"` on line 10 to the site name of the `$/schema/internet_account` object you added earlier.
  - TBC
  ### Optional: add custom data type and view
  - If you're syncing objects that is not within the default packages (e.g. YouTube videos, or Reddit posts), you'll probably need to add a custom data type and corresponding view to store and display your data correctly.
  - TBC